#>2023.2.1
#ğŸ’¡ é€šç”¨è®¾ç½®
[General]
#å¼€å¯æˆ–å…³é—­æ—è·¯ç³»ç»Ÿ
bypass-system = true

#å¼€å¯æˆ–å…³é—­ipv6æ”¯æŒ
ipv6 = false

#å¼€å¯æˆ–å…³é—­é¦–é€‰ipv6æ”¯æŒ
prefer-ipv6 = false

#ç§æœ‰ipåº”ç­”ï¼Œå¦‚å…³é—­åŸŸåè§£æä¼šè¿”å›ç§æœ‰ipï¼Œä¼šè®¤ä¸ºè¯¥åŸŸåè¢«åŠ«æŒè€Œå¼ºåˆ¶ä½¿ç”¨ä»£ç†
private-ip-answer = false

#è®¾ç½®dnsæœåŠ¡å™¨ï¼Œå¹¶å‘è¯·æ±‚é€‰å–æœ€ä¼˜ç»“æœ
dns-server = system,https://dns.alidns.com/dns-query, https://doh.pub/dns-query

#åŠ«æŒdnsæœåŠ¡å™¨ï¼Œè·å¾—å‡ipåœ°å€
hijack-dns = 8.8.8.8:53, 1.1.1.1:53

#è·³è¿‡ä»£ç†æˆ–è€…ipæ®µï¼Œä¸ç»è¿‡ä»£ç†
skip-proxy = 10.0.0.0/8, 17.0.0.0/8, 100.64.0.0/10, 172.16.0.0/12, 192.168.0.0/16

#æŒ‡å®šipæ®µèŒƒå›´ç»•è¿‡tunæ—è·¯ç”±
tun-excluded-routes = 10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.168.0.0/16,198.18.0.0/15,198.51.100.0/24,203.0.113.0/24,224.0.0.0/4,255.255.255.255/32

#é…ç½®çš„åŸŸåä¸ä¼šè¿›è¡Œæ˜ å°„ï¼Œè¿”å›çœŸå®çš„ip
always-real-ip = *.lan, *.local, localhost, *.msftconnecttest.com, *.msftncsi.com, *.jegotrip.com.cn, *.icitymobile.mobi, *.cmpassport.com, cable.auth.com, captive.apple.com, id6.me, open.e.189.cn, mdn.open.wo.cn, opencloud.wostore.cn, auth.wosms.cn

#ğŸ’¡ ç­–ç•¥ç»„åˆ†æµ
[Proxy Group]
pick = select,auto,hongkong,taiwan,japan,korea,singapore,america,chinese,DIRECT,PROXY,REJECT,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
auto = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=150,timeout=5,select=0,policy-regex-filter=*
hongkong = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=150,timeout=5,select=0,policy-regex-filter=æ¸¯|é¦™æ¸¯|ğŸ‡­ğŸ‡°|HK|Hong
taiwan = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=150,timeout=5,select=0,policy-regex-filter=å°|å°æ¹¾|å°åŒ—|ğŸ‡¹ğŸ‡¼|TW|Taiwan
japan = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=150,timeout=5,select=0,policy-regex-filter=æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|ğŸ‡¯ğŸ‡µ|JP|Japan
korea = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=150,timeout=5,select=0,policy-regex-filter=éŸ©å›½|éŸ“åœ‹|æœé²œ|ğŸ‡°ğŸ‡·|KR|Korea
singapore = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=150,timeout=5,select=0,policy-regex-filter=æ–°åŠ å¡|ç‹®åŸ|ğŸ‡¸ğŸ‡¬|SG|Singapore
america = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=150,timeout=5,select=0,policy-regex-filter=ç¾|ç¾å›½|ç¾åœ‹|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|ğŸ‡ºğŸ‡¸|US|America
chinese = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=100,timeout=5,select=0,policy-regex-filter=ç§»åŠ¨|è”é€š|ç”µä¿¡|è…¾è®¯|é˜¿é‡Œ|ğŸ‡¨ğŸ‡³|CN|CHINA|ä¸­å›½|å›½å†…|åä¸œ|åå—|åä¸­|åè¥¿|ååŒ—|åŒ—äº¬|ä¸Šæµ·|é‡åº†|å¤©æ´¥|å¹¿ä¸œ|å¹¿å·|æ·±åœ³|æ¹–åŒ—|æ­¦æ±‰|å®œæ˜Œ|æ±Ÿè‹|å—äº¬|æ— é”¡|é•‡æ±Ÿ|è‹å·|æµ™æ±Ÿ|æ­å·|å®æ³¢|æ¸©å·|ç»å…´|äº‘å—|æ˜†æ˜|è´µå·|è´µé˜³|å››å·|æˆéƒ½|ç¦å»º|ç¦å·|å¦é—¨|æµ·å—|æµ·å£|æ¹–å—|é•¿æ²™|å®‰å¾½|åˆè‚¥|æ±Ÿè¥¿|å—æ˜Œ|æ²³å—|éƒ‘å·|æ²³åŒ—|çŸ³å®¶åº„|å±±ä¸œ|æµå—|å±±è¥¿|å¤ªåŸ|é™•è¥¿|è¥¿å®‰|è¾½å®|æ²ˆé˜³|å‰æ—|é•¿æ˜¥|å¹¿è¥¿|å—å®|å®å¤|é“¶å·|é’æµ·|è¥¿å®|ç”˜è‚ƒ|å…°å·|é»‘é¾™æ±Ÿ|å“ˆå°”æ»¨|è¾½å®|æ²ˆé˜³|å†…è’™å¤|å‘¼å’Œæµ©ç‰¹|æ–°ç–†|ä¹Œé²æœ¨é½|è¥¿è—|æ‹‰è¨
speedtest = select,china,pick,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
tiktok = select,pick,hongkong,taiwan,japan,korea,singapore,america,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
telegram = select,pick,hongkong,taiwan,japan,korea,singapore,america,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
spotify = select,pick,hongkong,taiwan,japan,korea,singapore,america,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
netflix = select,pick,hongkong,taiwan,japan,korea,singapore,america,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
disney = select,pick,hongkong,taiwan,japan,korea,singapore,america,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
youtube = select,pick,hongkong,taiwan,japan,korea,singapore,america,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
facebook = select,pick,hongkong,taiwan,japan,korea,singapore,america,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
google = select,pick,hongkong,taiwan,japan,korea,singapore,america,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
microsoft = select,china,pick,hongkong,taiwan,japan,korea,singapore,america,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
apple = select,china,pick,hongkong,taiwan,japan,korea,singapore,america,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
streaming = select,pick,hongkong,taiwan,japan,korea,singapore,america,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
global = select,pick,hongkong,taiwan,japan,korea,singapore,america,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
media = select,china,pick,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
china = select,DIRECT,PROXY,REJECT,pick,chinese,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
final = select,pick,china,adblock,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
adblock = select,REJECT,DIRECT,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204

#ğŸ’¡ è¿œç¨‹åˆ†æµè§„åˆ™
[Rule]
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Direct/Direct.list,china
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Hijacking/Hijacking.list,adblock
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Privacy/Privacy.list,adblock
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/AdvertisingLite/AdvertisingLite.list,adblock
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Speedtest/Speedtest.list,speedtest
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/TikTok/TikTok.list,tiktok
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Telegram/Telegram.list,telegram
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Spotify/Spotify.list,spotify
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Netflix/Netflix.list,netflix
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Disney/Disney.list,disney
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/YouTube/YouTube.list,youtube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/SystemOTA/SystemOTA.list,adblock
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Facebook/Facebook.list,facebook
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Google/Google.list,google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Microsoft/Microsoft.list,microsoft
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Apple/Apple.list,apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/GlobalMedia/GlobalMedia.list,streaming
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Global/Global.list,global
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/ChinaMedia/ChinaMedia.list,media
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/China/China.list,china
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/ChinaIPs/ChinaIPs.list,china
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/ChinaIPsBGP/ChinaIPsBGP.list,china
GEOIP,CN,china
FINAL,final

#ğŸ’¡ å¯¹åŸŸåæŒ‡å®šå•ç‹¬çš„dnsæœåŠ¡å™¨
[Host]
# alibaba
*.1688.com = server:223.5.5.5
*.tmall.com = server:223.5.5.5
*.taobao.com = server:223.5.5.5
*.alibaba.cn = server:223.5.5.5
*.alibaba.com.cn = server:223.5.5.5
*.alipay.com = server:223.5.5.5
*.alipay.com.cn = server:223.5.5.5
*.alipaydns.com = server:223.5.5.5
*.alicdn.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
*.aliyuncdn.com = server:223.5.5.5
*.aliyundrive.com = server:223.5.5.5
# tencent
*.qq.com = server:119.29.29.29
*.qpic.cn = server:119.29.29.29
*.qlogo.cn = server:119.29.29.29
*.weixin.com = server:119.29.29.29
*.wechat.com = server:119.29.29.29
*.weiyun.com = server:119.29.29.29
*.qcloud.com = server:119.29.29.29
*.smtcdns.com = server:119.29.29.29
*.smtcdns.net = server:119.29.29.29
*.tencent.com = server:119.29.29.29
*.qcloudcdn.cn = server:119.29.29.29
*.qcloudcdn.com = server:119.29.29.29
# other
*.jd.com = server:119.29.29.29
*.mi.com = server:119.29.29.29
*.hdslb.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29
*.bilibili.com = server:119.29.29.29
# netease
*.163.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
# google
blog.google = server:94.140.15.15
talk.google.com = 108.177.125.188
mtalk.google.com = 108.177.125.188
dl.google.com = server:https://dns.adguard-dns.com/dns-query
dl.l.google.com = server:https://dns.adguard-dns.com/dns-query
update.googleapis.com = server:quic://dns.adguard-dns.com

#ğŸ’¡ urlé‡å†™
[URL Rewrite]
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302
^https?:\/\/(ditu|maps).google\.cn https://maps.google.com 302
(?<=_region=)CN(?=&) KR 307
(?<=&mcc_mnc=)4 2 307
^(https?:\/\/(tnc|dm)[\w-]+\.\w+\.com\/.+)(\?)(.+) $1$3 302
(^https?:\/\/*\.\w{4}okv.com\/.+&.+)(\d{2}\.3\.\d)(.+) $118.0$3 302

#ğŸ’¡ httpsè§£å¯†,éœ€å®‰è£…è¯ä¹¦å¹¶ä¿¡ä»»
[MITM]
hostname = *.tiktokv.com,*.byteoversea.com,*.tik-tokapi.com

#ğŸ’¡ è„šæœ¬
[Script]
daily = type=cron,script-path=https://raw.githubusercontent.com/nzw9314/QuantumultX/master/yichahucha/cron_daily.js,cronexpr="30 7 * * *",script-update-interval=24,enable=true
time = type=cron,script-path=https://raw.githubusercontent.com/nzw9314/QuantumultX/master/Task/time.js,cronexpr="0 8 * * *",script-update-interval=24,enable=true
