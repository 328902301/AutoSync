let url=$request.url,body=null;if(url.includes("/statuses/")){let e=!1,d=JSON.parse($response.body);for(const a of["ad","advertises","trends"])d[a]&&(d[a]=void 0,e=!0);d.statuses&&(d.statuses=d.statuses.filter((e=>!isAd(e))),e=!0),e&&(body=JSON.stringify(d))}else if(url.includes("ct=feed&a=trends")){let e=JSON.parse($response.body);e.data?.order&&(e.data.order=["search_topic"],body=JSON.stringify(e))}else if(url.includes("php?a=search_topic")){let e=JSON.parse($response.body);e.data?.length&&"searchtop"===e.data[0].type&&(e.data.shift(),body=JSON.stringify(e))}else if(url.includes("user_center")){let e=JSON.parse($response.body);e.data?.cards&&(e.data.cards=e.data.cards.filter((e=>"personal_vip"!==e.items[0].type)),body=JSON.stringify(e))}else if(url.includes("a=get_coopen_ads")){let e=JSON.parse($response.body);e.data&&(e.data.ad_list=[],e.data.gdt_video_ad_ios=[],e.data.display_ad=0,e.data.ad_ios_id=null,e.data.app_ad_ios_id=null,e.data.reserve_ad_ios_id="",e.data.reserve_app_ad_ios_id="",e.data.ad_duration=604800,e.data.ad_cd_interval=604800,e.data.pic_ad=[],body=JSON.stringify(e))}else if(url.includes("interface/sdk/sdkad.php")){let e=JSON.parse(body.substring(0,body.length-2));e.show_push_splash_ad=!1,e.background_delay_display_time=604800,e.ads=[],body=JSON.stringify(e)+"OK"}else console.log("匹配到其他url：\n"+url);function isAd(e){return!!["广告","廣告","热推","熱推"].includes(e.mblogtypename)||!(!e.promotion||"ad"!==e.promotion.type)}body?$done({body:body}):$done({});