#!name= DualSubs
#!desc= (BETA) Dual Subtitiles for Streaming Media Platform

[Script]
DualSubs.YouTube = type=http-request, pattern=^https?:\/\/www\.youtube\.com\/api\/timedtext(.*), requires-body=0, max-size=0, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.YouTube.beta.js

DualSubs.Disney_Plus.HLS.m3u8 = type=http-response, pattern=^https?:\/\/(.*)\.media\.(dssott|starott)\.com\/ps01\/disney\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\/cbcs-all-(.*)\.m3u8(.*), requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.HLS.M3U8.beta.js
DualSubs.Disney_Plus.WebVTT.m3u8 = type=http-request, pattern=^https?:\/\/(.*)\.media\.(dssott|starott)\.com\/ps01\/disney\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\/r\/(.*)\.m3u8(%.*%)$, requires-body=0, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.WebVTT.M3U8.beta.js
DualSubs.Disney_Plus.vtt = type=http-response, pattern=^https?:\/\/(.*)\.media\.(dssott|starott)\.com\/ps01\/disney\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\/(.*)\.vtt(%.*%)$, requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.VTT.beta.js

DualSubs.Prime_Video.HLS.m3u8 = type=http-response, pattern=^https?:\/\/(.*)\.(hls\.row\.aiv-cdn|akamaihd)\.net\/(.*)\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\.m3u8$, requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.HLS.M3U8.beta.js
DualSubs.Prime_Video.WebVTT.m3u8 = type=http-request, pattern=^https?:\/\/(.*)\.cloudfront\.net\/(.*)\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\.m3u8(%.*%)$, requires-body=0, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.WebVTT.M3U8.beta.js
DualSubs.Prime_Video.vtt = type=http-response, pattern=^https?:\/\/(.*)\.cloudfront\.net\/(.*)\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\.vtt(%.*%)$, requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.VTT.beta.js

DualSubs.HBO_Max.HLS.m3u8 = type=http-response, pattern=^https?:\/\/manifests\.v2\.api\.hbo\.com\/hls\.m3u8\?(.*), requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.HLS.M3U8.beta.js
DualSubs.HBO_Max.WebVTT.m3u8 = type=http-request, pattern=^https?:\/\/manifests\.v2\.api\.hbo\.com\/hlsMedia\.m3u8\?(.*)(%.*%)$, requires-body=0, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.WebVTT.M3U8.beta.js
DualSubs.HBO_Max.vtt = type=http-response, pattern=^https?:\/\/(.*)\.hbomaxcdn\.com\/videos\/(.*)\.vtt(%.*%)$, requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.VTT.beta.js

DualSubs.Hulu.HLS.m3u8 = type=http-response, pattern=^https?:\/\/manifest-dp\.hulustream\.com\/hls\/(\d+)\.m3u8\?(.*), requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.HLS.M3U8.beta.js
DualSubs.Hulu.WebVTT.m3u8 = type=http-request, pattern=^https?:\/\/manifest-dp\.hulustream\.com\/webvtt\?(.*)(%.*%)$, requires-body=0, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.WebVTT.M3U8.beta.js
DualSubs.Hulu.vtt = type=http-response, pattern=^https?:\/\/assets\.huluim\.com\/captions_webvtt\/(.+[^blank])\.vtt(%.*%)$, requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.VTT.beta.js

DualSubs.Paramount_Plus.HLS.m3u8 = type=http-response, pattern=^https?:\/\/(.*)\.(cbsaavideo|cbsivideo)\.com\/(.*)\/master\.m3u8$, requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.HLS.M3U8.beta.js
DualSubs.Paramount_Plus.WebVTT.m3u8 = type=http-request, pattern=^https?:\/\/(.*)\.(cbsaavideo|cbsivideo)\.com\/(.*)\/stream_vtt\.m3u8(%.*%)$, requires-body=0, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.WebVTT.M3U8.beta.js
DualSubs.Paramount_Plus.vtt = type=http-response, pattern=^https?:\/\/(.*)\.(cbsaavideo|cbsivideo)\.com\/(.*)\.vtt(%.*%)$, requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.VTT.beta.js
DualSubs.Paramount_Plus.vtt = type=http-response, pattern=^https?:\/\/cc\.cbs\.com\/closedcaption\/(.*)\.vtt(%.*%)$, requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.VTT.beta.js

DualSubs.Peacock.HLS.m3u8 = type=http-response, pattern=^https?:\/\/(.*)\.cdn\.peacocktv\.com\/pub\/global\/(.*)\/(pck_\d+)\/cmaf\/(.*)\/master_cmaf\.m3u8$, requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.HLS.M3U8.beta.js
DualSubs.Peacock.WebVTT.m3u8 = type=http-request, pattern=^https?:\/\/(.*)\.cdn\.peacocktv\.com\/pub\/global\/(.*)\/(pck_\d+)\/cmaf\/(.*)\/[^\/]*subtitles[^\/]*\.m3u8(%.*%)$, requires-body=0, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.WebVTT.M3U8.beta.js
DualSubs.Peacock.vtt = type=http-response, pattern=^https?:\/\/(.*)\.cdn\.peacocktv\.com\/pub\/global\/(.*)\/(pck_\d+)\/cmaf\/(.*)\/[^\/]*subtitles[^\/]*\.webvtt(%.*%)$, requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.VTT.beta.js

# DualSubs.Discovery_Plus.HLS.m3u8 = type=http-response, pattern=^https?:\/\/content-discovery\.uplynk\.com\/(.+)\.m3u8\?(.*), requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.HLS.M3U8.beta.js
# DualSubs.Netflix.vtt = type=http-response, pattern=^https?:\/\/(.*)\.nflxvideo\.net\/\?o=(\d+)&v=(\d+)&e=(.*), requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/beta/js/DualSubs.VTT.beta.js

[Map Local]
^https?:\/\/raw\.githubusercontent\.com\/DualSubs\/DualSubs\/beta\/database\/DualSubs\.beta\.min\.json data="https://raw.githubusercontent.com/DualSubs/DualSubs/beta/database/DualSubs.beta.min.json"

[MITM]
hostname = %APPEND% www.youtube.com, *.media.dssott.com, *.media.starott.com, atv-ps.amazon.com, atv-ps-fe.primevideo.com, *.hls.row.aiv-cdn.net, cf-timedtext.aux.pv-cdn.net, *avodhlss3ww-a.akamaihd.net, d25xi40x97liuc.cloudfront.net, dmqdd6hw24ucf.cloudfront.net, d22qjgkvxw22r6.cloudfront.net, d1v5ir2lpwr8os.cloudfront.net, d27xxe7juh1us6.cloudfront.net, *.api.hbo.com, *.hbomaxcdn.com, manifest-dp.hulustream.com, livemanifest-f.hulustream.com, live-sc.hulustream.com, assets.huluim.com, link.theplatform.com, *.cbsaavideo.com, *.cbsivideo.com, *.stream.peacocktv.com, *.cdn.peacocktv.com, content-discovery.uplynk.com, x-default-stgec.uplynk.com, *-discovery1.uplynk.com, *.nflxvideo.net
