#!name=üçøÔ∏è DualSubs for Streaming Media Platform
#!desc=(V0.6) ÊµÅÂ™í‰ΩìÂπ≥Âè∞Â≠óÂπïÂ¢ûÂº∫ÂèäÂèåËØ≠Ê®°Âùó
#!openUrl=http://boxjs.com/#/app/
#!author=VirgilClyne
#!homepage=https://github.com/VirgilClyne
#!manual=https://github.com/DualSubs/DualSubs
#!icon=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Streaming.png

[Script]
http-response ^https?:\/\/(play|play-edge|hls)\.itunes\.apple\.com\/WebObjects\/(MZPlay|MZPlayLocal)\.woa\/hls\/playlist\.m3u8(\?.*) requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.HLS.M3U8.js, tag=DualSubs.Apple_TV.HLS.m3u8
http-response ^https?:\/\/vod-(.*)-amt\.tv\.apple\.com\/itunes-assets\/(.*)\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\/(.*)_subtitles\.m3u8(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.WebVTT.M3U8.js, tag=DualSubs.Apple_TV.WebVTT.m3u8
http-response ^https?:\/\/vod-(.*)-amt\.tv\.apple\.com\/itunes-assets\/(.*)\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\/(.*)\.webvtt(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.VTT.js, tag=DualSubs.Apple_TV.vtt

http-response ^https?:\/\/(play|play-edge|hls)\.itunes\.apple\.com\/WebObjects\/(MZPlay|MZPlayLocal)\.woa\/hls\/subscription\/playlist\.m3u8(\?.*) requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.HLS.M3U8.js, tag=DualSubs.Apple_TV_Plus.HLS.m3u8
http-response ^https?:\/\/(play|play-edge|hls)\.itunes\.apple\.com\/WebObjects\/(MZPlay|MZPlayLocal)\.woa\/hls\/subscription\/stream\/playlist\.m3u8(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.WebVTT.M3U8.js, tag=DualSubs.Apple_TV_Plus.WebVTT.m3u8
http-response ^https?:\/\/vod-(.*)-aoc\.tv\.apple\.com\/itunes-assets\/(.*)\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\/(.*)\.webvtt(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.VTT.js, tag=DualSubs.Apple_TV_Plus.vtt

http-response ^https?:\/\/(play|play-edge|hls)\.itunes\.apple\.com\/WebObjects\/(MZPlay|MZPlayLocal)\.woa\/hls\/workout\/playlist\.m3u8(\?.*) requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.HLS.M3U8.js, tag=DualSubs.Apple_Fitness.HLS.m3u8
http-response ^https?:\/\/(hls|hls-svod)\.itunes\.apple\.com\/itunes-assets\/(.*)\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\/(.*)\.m3u8(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.WebVTT.M3U8.js, tag=DualSubs.Apple_Fitness.WebVTT.m3u8
http-response ^https?:\/\/(hls|hls-svod)\.itunes\.apple\.com\/itunes-assets\/(.*)\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\/(.*)\.webvtt(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.VTT.js, tag=DualSubs.Apple_Fitness.vtt

http-response ^https?:\/\/(.*)\.media\.(dssott|starott)\.com\/ps01\/disney\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\/(cbcs|ctr)-all-(.*)\.m3u8(\?.*) requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.HLS.M3U8.js, tag=DualSubs.Disney_Plus.HLS.m3u8
http-response ^https?:\/\/(.*)\.media\.(dssott|starott)\.com\/ps01\/disney\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\/r\/(.*)\.m3u8(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.WebVTT.M3U8.js, tag=DualSubs.Disney_Plus.WebVTT.m3u8
http-response ^https?:\/\/(.*)\.media\.(dssott|starott)\.com\/ps01\/disney\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\/(.*)\.vtt(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.VTT.js, tag=DualSubs.Disney_Plus.vtt

http-response ^https?:\/\/(.*)\.((hls|dash)\.row\.aiv-cdn|akamaihd)\.net\/(.*)\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\.m3u8(\?.*)?$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.HLS.M3U8.js, tag=DualSubs.Prime_Video.HLS.m3u8
http-response ^https?:\/\/(.*)\.cloudfront\.net\/(.*)\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\.m3u8(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.WebVTT.M3U8.js, tag=DualSubs.HBO_Max.WebVTT.m3u8
http-response ^https?:\/\/(.*)\.cloudfront\.net\/(.*)\/([0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12})\.vtt(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.VTT.js, tag=DualSubs.Prime_Video.vtt

http-response ^https?:\/\/manifests\.v2\.api\.hbo\.com\/hls\.m3u8(\?.*) requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.HLS.M3U8.js, tag=DualSubs.HBO_Max.HLS.m3u8
http-response ^https?:\/\/manifests\.v2\.api\.hbo\.com\/hlsMedia\.m3u8(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.WebVTT.M3U8.js, tag=DualSubs.HBO_Max.WebVTT.m3u8
http-response ^https?:\/\/(.*)\.hbomaxcdn\.com\/videos\/(.*)\.vtt(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.VTT.js, tag=DualSubs.HBO_Max.vtt

http-response ^https?:\/\/manifest-dp\.hulustream\.com\/hls\/(\d+)\.m3u8(\?.*) requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.HLS.M3U8.js, tag=DualSubs.Hulu.HLS.m3u8
# http-response ^https?:\/\/play\.hulu\.com\/(v\d)\/playlist requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.PlayList.JSON.js, tag=DualSubs.Hulu.playlist.json
http-response ^https?:\/\/manifest-dp\.hulustream\.com\/webvtt(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.WebVTT.M3U8.js, tag=DualSubs.Hulu.WebVTT.m3u8
http-response ^https?:\/\/(assets\.huluim\.com|assetshuluimcom-a\.akamaihd\.net)\/captions_webvtt\/(.+[^blank])\.vtt(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.VTT.js, tag=DualSubs.Hulu.vtt

http-response ^https?:\/\/(vod-.*|(.*)\.airspace-.*|.*-pplus)\.(cbsaavideo|cbsivideo|cbs)\.com\/(.*)\/(master|manifest)\.m3u8(\?.*)?$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.HLS.M3U8.js, tag=DualSubs.Paramount_Plus.HLS.m3u8
http-response ^https?:\/\/(vod-.*|(.*)\.airspace-.*|.*-pplus)\.(cbsaavideo|cbsivideo|cbs)\.com\/(.*)\/(stream_vtt|manifest_.*)\.m3u8(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.WebVTT.M3U8.js, tag=DualSubs.Paramount_Plus.WebVTT.m3u8
http-response ^https?:\/\/(vod-.*|(.*)\.airspace-.*|.*-pplus)\.(cbsaavideo|cbsivideo|cbs)\.com\/(.*)\.vtt(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.VTT.js, tag=DualSubs.Paramount_Plus.vtt
http-response ^https?:\/\/cc\.cbs\.com\/closedcaption\/(.*)\.vtt(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.VTT.js, tag=DualSubs.Paramount_Plus.vtt

http-response ^https?:\/\/(dplus-ph-prod-vod\.akamaized\.net|dplus-ph-google-v2\.prod-vod\.h264\.io)\/(.+)\/master\.m3u8(\?.*)?$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.HLS.M3U8.js, tag=DualSubs.Discovery_Plus_Ph.HLS.m3u8
http-response ^https?:\/\/(dplus-ph-prod-vod\.akamaized\.net|dplus-ph-google-v2\.prod-vod\.h264\.io)\/(.+)\/captions\.m3u8(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.WebVTT.M3U8.js, tag=DualSubs.Discovery_Plus_Ph.WebVTT.m3u8
http-response ^https?:\/\/(dplus-ph-prod-vod\.akamaized\.net|dplus-ph-google-v2\.prod-vod\.h264\.io)\/(.+)\.vtt(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.VTT.js, tag=DualSubs.Discovery_Plus_Ph.vtt

http-response ^https?:\/\/(.*)\.cdn\.peacocktv\.com\/pub\/global\/(.*)\/(pck_\d+)\/cmaf\/(.*)\/master_cmaf\.m3u8$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.HLS.M3U8.js, tag=DualSubs.Peacock.HLS.m3u8
http-response ^https?:\/\/(.*)\.cdn\.peacocktv\.com\/pub\/global\/(.*)\/cmaf\/(.*)\/[^\/]*subtitles[^\/]*\.m3u8(\?.*dualsubs=\w+)$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.WebVTT.M3U8.js, tag=DualSubs.Peacock.WebVTT.m3u8
http-response ^https?:\/\/(.*)\.cdn\.peacocktv\.com\/pub\/global\/(.*)\/cmaf\/(.*)\/[^\/]*subtitles[^\/]*\.webvtt(\?.*dualsubs=\w+)?$ requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.VTT.js, tag=DualSubs.Peacock.vtt

# http-response ^https?:\/\/content-discovery\.uplynk\.com\/(.+)\.m3u8(\?.*) requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.HLS.M3U8.js, tag=DualSubs.Discovery_Plus.HLS.m3u8

# http-response ^https?:\/\/(.*)\.nflxvideo\.net\/\?o=(\d+)&v=(\d+)&e=(.*) requires-body=1, max-size=0, timeout=30, script-path=https://raw.githubusercontent.com/DualSubs/DualSubs/main/js/DualSubs.VTT.js, tag=DualSubs.Netflix.vtt

[MITM]
hostname = play-edge.itunes.apple.com, hls.itunes.apple.com, hls-svod.itunes.apple.com, vod-*.tv.apple.com, *.media.dssott.com, *.media.starott.com, atv-ps.amazon.com, atv-ps-fe.primevideo.com, *.hls.row.aiv-cdn.net, *.dash.row.aiv-cdn.net, cf-timedtext.aux.pv-cdn.net, *avodhlss3ww-a.akamaihd.net, d25xi40x97liuc.cloudfront.net, dmqdd6hw24ucf.cloudfront.net, d22qjgkvxw22r6.cloudfront.net, d1v5ir2lpwr8os.cloudfront.net, d27xxe7juh1us6.cloudfront.net, manifests.v2.api.hbo.com, *.hbomaxcdn.com, manifest-dp.hulustream.com, livemanifest-f.hulustream.com, live-sc.hulustream.com, assets.huluim.com, assetshuluimcom-a.akamaihd.net, *-pplus.cbs.com, vod-*.cbsaavideo.com, vod-*.cbsivideo.com, *.airspace-*.cbsivideo.com, dplus-ph-prod-vod.akamaized.net, dplus-ph-google-v2.prod-vod.h264.io, *.stream.peacocktv.com, *.cdn.peacocktv.com, content-discovery.uplynk.com, x-default-stgec.uplynk.com, *-discovery1.uplynk.com
