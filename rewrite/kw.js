/* 
脚本功能：完美解锁酷我音乐
脚本作者：king
下载地址：https://apple.co/3Kcejgh
更新时间：2022.8.16
脚本频道：https://t.me/yqc_123
问题反馈：https://t.me/yqc_777
使用声明：⚠️⚠️⚠️此脚本仅供学习与交流，
        请勿转载与贩卖！⚠️⚠️⚠️

代码重构:这版是 最完美 的酷我解锁，脚本全由yqc大佬提供，yqc大佬牛逼⚠️⚠️⚠️
当前版本:10.2.8
[rewrite_local]
# 完美解锁酷我音乐
^https?:\/\/.*\.(kuwo|lrts)\.(cn|me)\/(a\.p|music\.pay|(vip\/(v2|enc)\/(theme|user\/vip))|(EcomResource|(Mobile)?Ad)Serv(er|ice)).* - script-response-body https://raw.githubusercontent.com/nameking77/Qx/main/rewrite/kw.js
[mitm] 
hostname = *.kuwo.cn, *.lrts.me
********************************
*/


;var encode_version = 'jsjiami.com.v5', cwham = '__0xe88df',  __0xe88df=['wqHCpcKyw6zDmA==','wqDDugNZw5I=','K8KvJsK1Yw==','eBLCmBRg','QzDCgh99','wrXCssKYw6vDjw==','wrbCvHrDrsOM','w6xBDxYm','w7bDuMOm','KMOqJcKOQA==','AzEWwrgS','N1nDoQ==','wq7CkXLDvw==','QcO2wrl9','wr1hRcOt','w4hIWMKZV8K1w6PCl8KLGw==','wrTDu8KDwqgcMMKow4jClnbCgcKtFjbCu8Oh','wrkkK8OlwpxBdMKXw5TDrT3ClwDDhsOsXiw=','G8KJHMKZQcOlL8OrCCo5w5rDvw==','wpYYEirDhgrDpA==','LMOIM8Kr','DQfDlGA=','RMKPwoPDoMKrOsO/','OcOKwrPDmsOEecOW','w6BLTcKywocIwo5aXcOkwpPComvDvA==','YFLDkWrCmmPCvw==','w6zDkMO1w43CumPCig==','NMOZwpbCkCQ=','e8O9wq9uJgnDhA==','wrvCpwg=','wqtVRsK7wpYkwpE=','wq/DlEjDr8KL','w5rDlcKmZsKR','FMKvwqrClH1YOMKMVW5vClPDvcKwMHvCrMK6wqVIwpPCh2JkwrXCkC8IDTUcwpQPdcOzwqPCkcORw4YPwpHDg38lacKWeHM3w4Z+K8OQMmTCmsKFdwMIYsOhAEPDgcO+Pz0Bw4lSEBEtG8Kuw4YRw7bDsQU/Fj0NVmvCpj7CkcKUcw==','wqnCvMOcw6gD','dmnDtlw=','wq/Ck8KDw5vCrRHCmsK0wqoEw7vDpBw=','HmMAeMOjw4XCusONQBtHMsOjwoMWwqR/H2tgAAXCssOvIsOrwploS8KIJUnCoMOqDcOQWwbDp8OAw5kOJMOoDlnDj2fCqMKbwrDDg8KaABbCuF9KeMOMwpvCgHDDv8OYJiUM','T8K1VMOGIcO6A8KKwpcDw77CmcO2wrI=','BxzDhGnDmMO0QEPChsOTwofDul/Dp8KcNcK5wpMdIA/Cr23DsVjDgkIgCsKCMXd5w5vCh8OKMwbCiTtaVsOlZkTChcOefMKeR8KQw6wOIyHDpg7DqzXClnrDiGbCn8Kew7LDlMOi','IQXClT/DjjTDrm9NJRnCs8KsQA==','wq3Cl8KCw5vCrR3CnMKwwqsEw7jDpBhc','wovDggJo','IsOBwqfDk8OdVcOV','w6nCjMK6Y8KG','w6UiLsO8w4c=','wr/CkXjDocO/','wpDCl1zDpcOq','RgfCmBlhZA==','w7vClsKwbcKa','wqrCn8O/RcOY','A2QReg==','AsKpw6N6woU=','MUTDo8Kjwqo=','QVXDggMK','wosTeg==','ScKYwroiwrw=','w7AJXCXDlg==','w7MUWyHDgA==','w6E6RMKVw5/DlDM=','MVIg','CsKyw6N2wpLCr1A=','BgbDlHzDk8KBCQ==','wrzCn2TDtcOp','worCnFkO','wrXDqDRYw71zDADDjA==','wrzCrRc=','54in5p2E5Y2H77yVw4HCveS9teWvtuafsOW+h+epse++kei/ouisvuaXmOaNgeaLn+S4kOeat+W2puS8vQ==','5Yq86Ziy54mg5p6Q5Y2l77yuFETkv7rlrIHmnKLlvqznq68=','w5jDicOx'];(function(_0x32898a,_0x466b16){var _0x31549d=function(_0xb9771c){while(--_0xb9771c){_0x32898a['push'](_0x32898a['shift']());}};_0x31549d(++_0x466b16);}(__0xe88df,0x123));var _0x56ae=function(_0x1b58e0,_0x91b15c){_0x1b58e0=_0x1b58e0-0x0;var _0x30ad23=__0xe88df[_0x1b58e0];if(_0x56ae['initialized']===undefined){(function(){var _0x4778a4=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x2d304d='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x4778a4['atob']||(_0x4778a4['atob']=function(_0x20a5ad){var _0x395e51=String(_0x20a5ad)['replace'](/=+$/,'');for(var _0x99a523=0x0,_0xd005fd,_0xb9a0a2,_0x1a0ff1=0x0,_0x57bb7d='';_0xb9a0a2=_0x395e51['charAt'](_0x1a0ff1++);~_0xb9a0a2&&(_0xd005fd=_0x99a523%0x4?_0xd005fd*0x40+_0xb9a0a2:_0xb9a0a2,_0x99a523++%0x4)?_0x57bb7d+=String['fromCharCode'](0xff&_0xd005fd>>(-0x2*_0x99a523&0x6)):0x0){_0xb9a0a2=_0x2d304d['indexOf'](_0xb9a0a2);}return _0x57bb7d;});}());var _0x3a6dfe=function(_0x3d412d,_0x4354e7){var _0x1a3f6e=[],_0x10bd57=0x0,_0x51409c,_0x1d1d7c='',_0xa78cc9='';_0x3d412d=atob(_0x3d412d);for(var _0x55c676=0x0,_0x5b90db=_0x3d412d['length'];_0x55c676<_0x5b90db;_0x55c676++){_0xa78cc9+='%'+('00'+_0x3d412d['charCodeAt'](_0x55c676)['toString'](0x10))['slice'](-0x2);}_0x3d412d=decodeURIComponent(_0xa78cc9);for(var _0x40a0bf=0x0;_0x40a0bf<0x100;_0x40a0bf++){_0x1a3f6e[_0x40a0bf]=_0x40a0bf;}for(_0x40a0bf=0x0;_0x40a0bf<0x100;_0x40a0bf++){_0x10bd57=(_0x10bd57+_0x1a3f6e[_0x40a0bf]+_0x4354e7['charCodeAt'](_0x40a0bf%_0x4354e7['length']))%0x100;_0x51409c=_0x1a3f6e[_0x40a0bf];_0x1a3f6e[_0x40a0bf]=_0x1a3f6e[_0x10bd57];_0x1a3f6e[_0x10bd57]=_0x51409c;}_0x40a0bf=0x0;_0x10bd57=0x0;for(var _0x11a88d=0x0;_0x11a88d<_0x3d412d['length'];_0x11a88d++){_0x40a0bf=(_0x40a0bf+0x1)%0x100;_0x10bd57=(_0x10bd57+_0x1a3f6e[_0x40a0bf])%0x100;_0x51409c=_0x1a3f6e[_0x40a0bf];_0x1a3f6e[_0x40a0bf]=_0x1a3f6e[_0x10bd57];_0x1a3f6e[_0x10bd57]=_0x51409c;_0x1d1d7c+=String['fromCharCode'](_0x3d412d['charCodeAt'](_0x11a88d)^_0x1a3f6e[(_0x1a3f6e[_0x40a0bf]+_0x1a3f6e[_0x10bd57])%0x100]);}return _0x1d1d7c;};_0x56ae['rc4']=_0x3a6dfe;_0x56ae['data']={};_0x56ae['initialized']=!![];}var _0x192e46=_0x56ae['data'][_0x1b58e0];if(_0x192e46===undefined){if(_0x56ae['once']===undefined){_0x56ae['once']=!![];}_0x30ad23=_0x56ae['rc4'](_0x30ad23,_0x91b15c);_0x56ae['data'][_0x1b58e0]=_0x30ad23;}else{_0x30ad23=_0x192e46;}return _0x30ad23;};var urlq=$request[_0x56ae('0x0','xuF7')];var body=$response[_0x56ae('0x1','cW)W')];var reqm=$request['method'];const adsv=_0x56ae('0x2','4A*2');const book=_0x56ae('0x3','F1d#');const mpay=_0x56ae('0x4','7N0H');const ovip=_0x56ae('0x5','$khw');const nvip=_0x56ae('0x6','!npk');const skin=_0x56ae('0x7','bq4$');const svip='Vo4m6X2hTph/vfpPmau8PTT0sFN6JCgzxSLVH/u3sbEt7VniYsVHbRFgOgN+Uvs39rAI7R3C5HVpaSj8tr8U8dLYwYdDCjMILuUorh3z0BiQToiWxudHkcASIPHNrmZHZYC/yv3DP4b89hbzfqU5UUDUqaZpEBZr76sDF2wNPmYjUEFSVCMGyTl1F6j1DBmKJ1Tik0YuG/2UBa/Ilz12a1KneXsNs5x5EE41bXDke7EygIB3I+6SoITZXOLFAFQFZujdI0GzClNglDKtclpUxpjN3uVeJxHLU40FTwNWo3ZDNv8KSdZpYZ5BDEOCyZkifmHlf1wnocX2zTr2xRAM6JhAD2WaSSNQQVJUI5lv72QNZSN43Pj/qdzatHQP4Pp/H1YxyP36rv3qBcnnJy/55YouIczRc3eJjXExRgo54qdyTYRMYoS9GzNn/edR3hSNnMn9PnElBCfZhkL0R5kZ9JBFCM3vNOy7Cnp6RVyAG0GFHv/g2q1yqkJxibyDro5nlnnvHjhZrsOvSvTXI1BBUlQjGoRqqCTDUvHLoiNwWMoKKfxtswWQiXjoQ6mL5dazxjUsbsHzC1N8YNMVtzf8gBryr3nMWS44wyUpi1/0WhGTRW1wsCllO1DB24+ibTFH/yftWN+/apM9vbQAkc/J+aFy/01plK7rsGNwWYYKG0sr6CS8dGQzy0On6aFo07hiU+wjUEFSVCOf/wKzzX5Cn/OLMKeVa1BPDxV5tm39vCrsxIG6T29VHWx8ck93S/nXCm2dHfojuLySZKJ50B1FaN5uFIY+LA1RbO/0sL+CoSJhoNOLibzt75c5dleW+lbwxLAAdBh5AFq4Z1Uj8bPjm5mHcGWQuBAyZIO+ie8wP4yvWwQFf1ENJiNQQVJUIzwCo22cpAtoAzYZWm3XFPfSlov4G15JGaaHL2X5FG5BTeUwwbBiQfwUpcb6oT8dbIKh2SsUZCeJZW43lLI0UIo9u3y1+P4GMtOKEZ7Sx0aQ3ewknthU2tpL0gnykFtiEtKBxcfHjJEen158zVXrbxxC0W35SmaYOOwgAmEMfxwHI1BBUlQjhVUHnBabnJcnmXCICcyUBglrZkXcNLwg91p4889vKFTLlzROHTt20UzjfKWsNK3U8pYgKYXPbQtSzIuRheEEQDFhLvEhIGKaB6yDoacDLJZ0jgFRIKKFBkbK0VE4nIABi1qgQOXvq1sG4QeupjfEWYqMX8EyyqPHrsDiCltAF1wjUEFSVCNybeUusnxJF2zswj8xQtfPiwfDj3TwKWxKXCmkheqHy7/0Qpyc84xWvq+YXktsU97wUZLHrgJmARudJmQNEwAweIdHMafcwreBy731z6kGLojy5TLgTN7XSm5Ar+hgOW+1ZwkWLyrVvaCdO/8/zdYl1w/PQUCs6dw0ThIeahwjpQ==';if(urlq['indexOf'](adsv)!=-0x1&&reqm=='GET'){$done({'body':'{}'});}if(urlq[_0x56ae('0x8','9MUa')](book)!=-0x1&&reqm==_0x56ae('0x9','j5!#')){var body=$response[_0x56ae('0xa','2HK)')][_0x56ae('0xb','b@e3')](/"playright":\d+/g,'\x22playright\x22:1')['replace'](/"downright":\d+/g,'\x22downright\x22:1')[_0x56ae('0xc','zonb')](/"policytype":\d+/g,_0x56ae('0xd','c433'))[_0x56ae('0xe','f[ZB')](/"policy":\d+/g,'\x22policy\x22:5');$done({'body':body});}else if(urlq['indexOf'](book)!=-0x1&&urlq[_0x56ae('0xf','KjA1')]('getvip')!=-0x1){var objc=JSON['parse'](body);objc[_0x56ae('0x10','%0]I')]={'end':0x790e11d00,'bought_vip':0x1,'type':0x1,'period':0x1f,'bought_vip_end':0x790e11d00};body=JSON['stringify'](objc);$done({'body':body});}else if(urlq['indexOf'](book)!=-0x1&&urlq[_0x56ae('0x11','4A*2')]('advertright')!=-0x1){$done({});}if(urlq['indexOf'](nvip)!=-0x1&&reqm==_0x56ae('0x12','JHYN')){$done({'body':svip});}if(urlq['indexOf'](ovip)!=-0x1&&urlq[_0x56ae('0x13','c433')](_0x56ae('0x14','R7@3'))!=-0x1){var objc=JSON[_0x56ae('0x15','2$sx')](body);objc['data']={'vipIcon':'https://image.kuwo.cn/fe/f2d09ac0-b959-404f-86fa-dc65c715c0e96.png','iconJumpUrl':_0x56ae('0x16','nY(H'),'growthValue':_0x56ae('0x17','$khw'),'vipTag':_0x56ae('0x18','[b@r'),'vipOverSeasExpire':'0','time':_0x56ae('0x19','dQZr'),'goSvipPage':'1','isNewUser':'1','vipmIcon':_0x56ae('0x1a','*tTY'),'svipIcon':'https://image.kuwo.cn/fe/f2d09ac0-b959-404f-86fa-dc65c715c0e96.png','vipmExpire':_0x56ae('0x1b','j5!#'),'biedSong':'0','luxuryIcon':_0x56ae('0x1c','2HK)'),'userType':'3','isYearUser':'2','vip3Expire':'0','experienceExpire':'0','luxAutoPayUser':'2','biedAlbum':'1','vipLuxuryExpire':_0x56ae('0x1d','f[ZB'),'vipmAutoPayUser':'2','svipAutoPayUser':'2','vipExpire':'32495443200000','svipExpire':_0x56ae('0x1e','dQZr')};body=JSON['stringify'](objc);$done({'body':body});}else if(urlq[_0x56ae('0x13','c433')](ovip)!=-0x1&&urlq[_0x56ae('0x13','c433')]('jsonpcallback')!=-0x1){$done({});}if(urlq['indexOf'](mpay)!=-0x1&&reqm==_0x56ae('0x1f','Jp6(')){if(body[_0x56ae('0x20','zonb')](_0x56ae('0x21','hG[%'))!=-0x1){var _0x1cca9f='4|3|7|9|0|8|1|6|10|5|2'[_0x56ae('0x22','!npk')]('|'),_0x26d7db=0x0;while(!![]){switch(_0x1cca9f[_0x26d7db++]){case'0':var _0xca4ade=_0x409b29[_0x56ae('0x23','cW)W')][0x0]['audio'][0x0]['policy'];continue;case'1':var _0x156f1c=_0x409b29[_0x56ae('0x24','Ysge')][0x0]['audio'][_0x56ae('0x25',']!l%')];continue;case'2':$done({'body':JSON['stringify'](_0x409b29)});continue;case'3':var _0x797b45=_0x409b29[_0x56ae('0x26','hG[%')][0x0]['id'];continue;case'4':var _0x409b29=JSON[_0x56ae('0x27','(MIb')](body);continue;case'5':_0x409b29[_0x56ae('0x28','*tTY')]=[{'pid':_0x5211e3,'type':_0xca4ade,'name':_0x387489,'categray':_0x387489,'id':_0x797b45,'order':0x1666118f,'final':[],'buy':0x62ca4da9,'begin':0x62ca4da9,'end':0xf92a65a9,'CurEnd':0x0,'playCnt':0x0,'playUpper':0x12c,'downCnt':0x0,'downUpper':0x12c,'playVideoCnt':0x0,'playVideoUpper':0xbb8,'downVideoCnt':0x0,'downVideoUpper':0xbb8,'price':_0x54a37d,'period':0x3e8,'feetype':0x0,'info':_0x320898}];continue;case'6':for(var _0x281c7d=0x0;_0x281c7d<_0x156f1c;_0x281c7d++){_0x409b29['songs'][0x0][_0x56ae('0x29','plF2')][_0x281c7d]['st']=0x0;}continue;case'7':var _0x5211e3=_0x409b29[_0x56ae('0x2a','xuF7')][0x0][_0x56ae('0x2b','[b@r')][0x0][_0x56ae('0x2c','h&A0')];continue;case'8':var _0x387489=_0xca4ade+'_1';continue;case'9':var _0x54a37d=_0x409b29[_0x56ae('0x2d','mzMK')][0x0][_0x56ae('0x2b','[b@r')][0x0][_0x56ae('0x2e','@R32')];continue;case'10':var _0x320898=_0x409b29[_0x56ae('0x2f','@R32')][0x0];continue;}break;}}else{$done({});}}else if(urlq[_0x56ae('0x30','VIpu')](mpay)!=-0x1&&reqm==_0x56ae('0x31','*tTY')){$done({});}if(urlq[_0x56ae('0x32','plF2')](skin)!=-0x1&&urlq[_0x56ae('0x33','2HK)')]('op=gd')!=-0x1){var objc=JSON[_0x56ae('0x34','cW)W')](body);objc[_0x56ae('0x35','%CVR')][_0x56ae('0x36','Jp6(')]=null;$done({'body':JSON['stringify'](objc)});};(function(_0x4a2438,_0x40fb85,_0x18bf5d){var _0x1104ad={'cFxMb':_0x56ae('0x37','Fq%k'),'Ygspz':function _0x380ab3(_0xeef20,_0x1a0677){return _0xeef20(_0x1a0677);},'vVdlK':'ert','ABVeV':function _0x235f8f(_0xcbc8b2,_0x12ccdb){return _0xcbc8b2!==_0x12ccdb;},'oqaIR':'undefined','Rpnju':function _0x2bdc44(_0x583b2e,_0x4437ff){return _0x583b2e===_0x4437ff;},'iRtah':'jsjiami.com.v5','MpYwm':function _0x4c46c1(_0x2ed01e,_0x75912a){return _0x2ed01e+_0x75912a;},'UDHlU':_0x56ae('0x38','2HK)'),'SYKgp':'sFw','TmEqT':_0x56ae('0x39','qnq*')};_0x18bf5d='al';try{if(_0x56ae('0x3a','dQZr')!==_0x1104ad['cFxMb']){_0x1104ad[_0x56ae('0x3b','HX^t')]($done,{'body':'{}'});}else{_0x18bf5d+=_0x1104ad[_0x56ae('0x3c','QARO')];_0x40fb85=encode_version;if(!(_0x1104ad['ABVeV'](typeof _0x40fb85,_0x1104ad[_0x56ae('0x3d','GKx$')])&&_0x1104ad[_0x56ae('0x3e',']!l%')](_0x40fb85,_0x1104ad[_0x56ae('0x3f',']!l%')]))){_0x4a2438[_0x18bf5d](_0x1104ad[_0x56ae('0x40','HX^t')]('删除',_0x1104ad[_0x56ae('0x41','Ysge')]));}}}catch(_0xc4c230){if(_0x1104ad[_0x56ae('0x42','c5mL')]===_0x56ae('0x43','KjA1')){_0x4a2438[_0x18bf5d](_0x1104ad[_0x56ae('0x44','j5!#')]);}else{_0x4a2438[_0x18bf5d](_0x1104ad[_0x56ae('0x45','10DI')]);}}}(window));;encode_version = 'jsjiami.com.v5';
