# --- Quantumult X    ---For O7Y0
# --- UpdateTime      ---2022/9/23
# --- TGChannel       ---@REBIRTHOKAY

#>通用的设置参数
[general]
#>指定的网址进行相应测试
server_check_url=http://cp.cloudflare.com/generate_204
#>指定节点超时时间
server_check_timeout=2000
#>不使用fake-ip方式
dns_exclusion_list=*.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn, *.cmbchina.com
#>节点信息展示
;geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/Orz-3/Orz-3/master/QuantumultX/IP.js
geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/I-am-R-E/Functional-Store-Hub/Master/GeoLocationChecker/QuantumultX/IP-API.js
#>资源解析器
resource_parser_url=https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js
#>不经过 QuantumultX的处理
excluded_routes=239.255.255.250/32, 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32
#>UDP名单不在列表中的端口将被丢弃处理
udp_whitelist=1-442, 444-65535

[dns]
#>禁用系统DNS
no-system
no-ipv6
#>指定dns服务器
server=119.29.29.29
server=1.1.1.1
server=223.5.5.5
#>Google
server=/blog.google/119.29.29.29
server=/*.gmail.com/119.29.29.29
server=/dl.google.com/119.29.29.29
server=/dl.l.google.com/119.29.29.29
server=/*.googleapis.com/119.29.29.29
server=/fonts.gstatic.com/119.29.29.29
server=/fonts.googleapis.com/119.29.29.29
server=/update.googleapis.com/119.29.29.29
server=/translate.googleapis.com/119.29.29.29
server=/googletraveladservices.com/119.29.29.29
server=/clientservices.googleapis.com/119.29.29.29
#>address = /example1.com/192.168.1.1 本地 DNS 映射|指定域名到特定 IP 地址
address=/talk.google.com/108.177.125.125
address=/mtalk.google.com/108.177.97.188
address=/alt1-mtalk.google.com/3.3.3.3
address=/alt2-mtalk.google.com/3.3.3.3
address=/alt3-mtalk.google.com/64.233.171.188
address=/alt4-mtalk.google.com/64.233.171.188
address=/alt5-mtalk.google.com/3.3.3.3
address=/alt6-mtalk.google.com/3.3.3.3
address=/alt7-mtalk.google.com/173.194.219.188
address=/alt8-mtalk.google.com/3.3.3.3

#>策略组
[policy]
static=网易音乐, server-tag-regex=(?=.*(REBIRTHOKAY|网易云|音乐|数值|(?i)Music))^((?!(TG@REBIRTHOKAY_|台|日|韩|新|美|香|加)).)*$, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Netease_Music_Unlock.png
static=全球加速, proxy, direct, 香港地区, 台湾地区, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Global.png
static=苹果服务, direct, proxy, 香港地区, 台湾地区, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Apple.png
static=国内媒体, direct, 香港地区, 台湾地区, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/DomesticMedia.png
static=国际媒体, proxy, direct, 香港地区, 台湾地区, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/ForeignMedia.png
static=追踪列表, direct, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Static.png
static=黑白名单, direct, proxy, 香港地区, 台湾地区, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Final.png
url-latency-benchmark=香港地区, server-tag-regex=(?=.*(?i)(香港|HK|Hong))^((?!(?i)(IPLC|IEPL|game|专线|手游|游戏)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/HK.png
url-latency-benchmark=台湾地区, server-tag-regex=(?=.*(?i)(台湾|台灣|TW|Taiwan))^((?!(?i)(IPLC|IEPL|game|手游|游戏)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/TW.png

#>远程订阅
[server_remote]
https://openit.daycat.space/long#sort=广>深>港>台>新>直>美, tag=OpenIt, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/O7Y0/Profiles/UnblockNeteaseMusic/core/UnblockNeteaseMusic.txt#checkurl=http://interface3.music.163.com, tag=网易音乐, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Netease_Music.png, update-interval=86400, opt-parser=true, enabled=true

#远程分流
[filter_remote]
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/China/China.list, tag=规则修正, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/AdvertisingLite/AdvertisingLite.list, tag=广告拦截, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Privacy/Privacy.list, tag=隐私保护, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Hijacking/Hijacking.list, tag=运营劫持, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/O7Y0/Profiles/UnblockNeteaseMusic/core/NeteaseCloudMusic.list, tag=网易音乐, force-policy=网易音乐, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/BiliBili/BiliBili.list, tag=哔哩哔哩, force-policy=国内媒体, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/DouYin/DouYin.list, tag=字节跳动, force-policy=国内媒体, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/AsianMedia/AsianMedia.list, tag=亚洲媒体, force-policy=国际媒体, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/GlobalMedia/GlobalMedia.list, tag=国际媒体, force-policy=国际媒体, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Global/Global.list, tag=全球加速, force-policy=全球加速, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Apple/Apple.list, tag=苹果服务, force-policy=苹果服务, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/AppleMail/AppleMail.list, tag=苹果邮件, force-policy=苹果服务, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/PrivateTracker/PrivateTracker.list, tag=追踪列表, force-policy=追踪列表, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.China.list, tag=CNASN, force-policy=黑白名单, update-interval=172800, opt-parser=true, enabled=true

#>远程重写
[rewrite_remote]
https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/config/QX.snippet, tag=Sub-Store, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/General.conf, tag=神机重定向, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/Rewrite_lhie1.conf, tag=lhie1去广告, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/Block/Advertising.conf, tag=神机去广告, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/O7Y0/Profiles/master/QuantumultX/Rewrite/embyUnlocked.conf, tag=EMBY解锁, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/yqc007/QuantumultX/master/PornHubPremiumCrack.js, tag=P站大会员, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/nameking77/Qx/main/rewrite/kw.js, tag=酷我音乐解锁, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/zZPiglet/Task/master/UnblockURLinWeChat.conf, tag=链接屏蔽解除, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/ddgksf2013/Cuttlefish/master/Rewrite/Function/EndlessGoogle.conf, tag=谷歌自动翻页, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/ddgksf2013/Cuttlefish/master/Rewrite/AdBlock/YoutubeAds.conf, tag=油管广告去除, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/id77/QuantumultX/master/rewrite/Youtube_CC.conf, tag=油管中文机翻, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/I-am-R-E/QuantumultX/main/TextEditor.conf, tag=TextEditor解锁, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/app2smile/rules/master/module/tieba-qx.conf, tag=百度贴吧去广告, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/VirgilClyne/iRingo/main/qxrewrite/Weather.qxrewrite, tag=苹果天气AQI(US), update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/I-am-R-E/QuantumultX/main/DouBan.conf, tag=豆瓣简影快捷播放, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/ddgksf2013/Cuttlefish/master/Rewrite/AdBlock/WeChat.conf, tag=微信公众号去广告, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/ddgksf2013/Cuttlefish/master/Rewrite/AdBlock/Bilibili.conf, tag=哔哩哔哩高码去广, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/ddgksf2013/Cuttlefish/master/Rewrite/Function/BilibiliAutoRegion.conf, tag=哔哩哔哩自动换区, update-interval=172800, opt-parser=false, enabled=true
  
#>本地节点
[server_local]

#>本地分流
[filter_local]
#>屏蔽系统更新
host, gdmf.apple.com, direct
host, mesu.apple.com, direct
host-suffix, local, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 100.64.0.0/10, direct
ip-cidr, 224.0.0.0/4, direct
ip6-cidr, fe80::/10, direct
ip-cidr, 203.107.1.1/24, reject
ip-cidr, 183.240.197.130/32, direct
#>不使用geoip
;geoip, 全球加速, proxy
#>超脱REMOTE | LOCAL的请求将走final指定节点|策略请根据自己的需求来选择剩余规则
final, 黑白名单

#>本地重写
[rewrite_local]
^https?:\/\/sub\.store url script-analyze-echo-response https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/backend/sub-store.min.js

^https:\/\/ap(p|i)\.bili(bili|api)\.(com|net)\/(pgc\/view\/v\d\/app\/season|x\/offline\/version)\? url script-response-body https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Bili_Auto_Regions.js
#可选, 适用于搜索指定地区的番剧
^https:\/\/ap(p|i)\.bili(bili|api)\.(com|net)\/x\/v\d\/search(\/type)?\?.+?%20(%E6%B8%AF|%E5%8F%B0|%E4%B8%AD)& url script-request-header https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Bili_Auto_Regions.js

#>定时任务| UI交互脚本 | 网络切换脚本(https://raw.githubusercontent.com/O7Y0/Profiles/master/QuantumultX/Script%20Gallery%20Subscribe.json)
[task_local]

#>后端程序
[http_backend]
https://raw.githubusercontent.com/chavyleung/scripts/master/chavy.box.js, tag=BoxJS, path=^/, enabled=true
https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/backend/sub-store.min.js, tag=Sub-Store, path=/, enabled=true

#>证书&主机名部分
[mitm]
skip_validating_cert = true
simple_cert_hostname = sub.store
hostname = -weather-data.apple.com, sub.store, -www.google.com, ap?.bili*i.com, ap?.bili*i.net
