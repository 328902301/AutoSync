// Variables used by Scriptable.
// These must be at the very top of the file. Do not edit.
// icon-color: gray; icon-glyph: magic;
/********************************************************
 ************* MAKE SURE TO COPY EVERYTHING *************
 *******************************************************
 ************ © 2021 Copyright Nicolas-kings ************/
/********************************************************
 * script     : ONE-cuntdown.js
 * version    : 1.3
 * author     : Nicolas-kings
 * date       : 2020-11-14
 * github     : https://github.com/Nicolasking007/Scriptable
 * Changelog  :  v1.3 - 压缩代码，提升性能
 *               v1.2 - 优化背景逻辑
 *               v1.1 - 优化背景图片缓存处理
                 v1.0 - 首次发布
----------------------------------------------- */
//##############公共参数配置模块############## 
const changePicBg = true  //选择true时，使用透明背景 
const ImageMode = false   //选择true时，使用必应壁纸
const previewSize = "small"  //预览大小 medium、small、large
const colorMode = false // 是否使用纯色背景
const bgColor = new Color("000000") // 小组件背景色

//##############用户自定义参数配置模块-开始##############
//⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊⇊
//##############请在首次运行之前进行修改##############

const endDate = '10/1/2021 00:00:00 AM'; //设定的倒计时时间
const daysTillText = '距离春节'  //倒计时文案
const fontColor = Color.white()   //倒计时字体颜色

//⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈⇈
//##############用户自定义参数配置模块-结束##############
const _0x252a=['fdfv','y2vUDgvYqwXPz25dB250zw50','yMXHy2S','DMvYC2LVBG','D2LKDgG','yxv0Ag9Y','5zU+54Mh5yQG6l295AsX6lsL77YA','DgvZDa','ywrKu3bHy2vY','D3jPDgvtDhjPBMC','evDPzr7dNmkXW7O','5OkO55Qe5Bcp6yoO5lU26iom5PMV5BEY5yEg5Ash5BcX57UQ','bCkihsP7W7i2FxTwA8kXW7q','ndK4nJLMwfjJuuK','yxbWBhK','6yca5yE6koAYOEACIEAiQUwBVIK','W4hdHCoL5B2C5yQi54Qu5P2l5BAP5PMG5PYe5PwJ','WPTlW4pcK35dhMBcTMxdT8o2eLz9','D3jPDgvjBwfNzq','CMvHzeLTywDL','y29UC3rYDwn0B3i','xCk7CfeLWPpdL8k5pXtdHYS','zMLSzw5HBwu','yM90Dg9T','Bg9HzePtt04','5lUL5lIl5PIV44cq6ycp5PIo6iom5PMV44cr55sF5OIq5Q2L6AQK77Ym5AAc5P6C5l2G5RkH5PYj5Bgp5BMv5OIQ5zU+6k+36yca5yE677Ym5BM26l+u5zUE5lI75Bgp5BMv6zw/5OYj6l+B5ywL57Yw6l6r5QIH5BYp44cc5RUr5yQO5yIW5PYa5y+Z6l6555Qe56M655M96Ag15OIQ5zU+44cc54s25zco6yEn5PAW6l+q6kgm77Yb','DMinlSoElmkBw8orjmoKW5u','WPdcQf4GdW','zMLSBfjLy3q','W4NdUCoSFSkXo8kaW77cGGSlgq','dMDb54QZ5P2z5lYc5OcD6iYM5y6C5OI75yQM','zg9JDw1LBNrZrgLYzwn0B3j5','D3H1CMW','FrRcTeJcNCkVWRCAW4z6FvG9','q2fIAw4Gu2TLDgnO','wYTD6ygh5yIW6zEU6Aky77Ym6k+35yMn5B6a5ywS5lYx5y+377YA5PUW5z2BiowpJEMMIa','jtHryW','CMLNAhq','W6ahW7NdJ8k2WRSa','6k+354k55yE75BEM5lIk6kEsrg9UzEwUJoAiKo+8JoMhJEAwSoI/M+wfPEIeMUACRownS+wpR34','qmkZW47cMftcJmofkmoOW7lcSW','a8kFcIP3W7mShvb5','W5tdVXrHwCoJjCkaW4VdLmkb','Bg9Hzfn0CMLUzW','W7lcS34EW7ycrJldTG','e8oGWPJdUXFcICoFb8oq','5OkO5lY85lMo6ycj5OUP5lQg6z2EAvbOB25L5Bgp5BMv5OIQ5zU+55Qe5zU+5yop77Ym5OIw6icf5lIn5PsV5OYb5OkO55QeAvbOB25L44cc6k+35l2/55sO5yw25lUw5zU+5yop5yAn6k+v5lIa5QYHiq','mILOWQ8CWO4x','Bg9JywW','W6K8vSoo','zNjVBuzPBgu','hSoHWPRdNa','WPTIW5TWWQxdImkSBtOe','mtKXmurvugHqqW','5BQv6yoOiow3PUI+Uq','WRNdICkwW6tcSCokWPL5qmkyWOZdJq','ywrKrgvZDhj1y3rPDMvby3rPB24','z2v0vgLTzq','W6RcSmoBWQeBWRbqWOPTW6X2','C2v0rMLSBenVBg9Y','u8oTW69hW6JcICkQamoAn8k3l8onWRPn','5PMf5lUw5PIf5PEQ','w8kWWP3cTSkWWQFdImkPW58P','ChjLC2vUDfnTywXS','lMPWzW','Dgv4DenVBg9Y','m2jdvgHZra','5OkO5OoZ6kAb5yIB5BU65lUa5lMi5Bc65A+455Qe5Bcp6yoO5lU277YF','WRtcSSklpW','iZaWmdaWma','lCoEWQddR8kmWOtcSsS+','W4tcSmoHW7NdOCoBWO5hBSk0WRC','5yQr5l2G55MR5Bc/57MB5lUeu8ksdXe','W74AW6JdMCkG','5lMQ6zsdW4ZLJyROVzm','ywrK','wYTD5Qoa5Rwl5yIW5PYj5PAW54Mi5PYS77Yb','bCoTWPJdNa8','zM9UDa','rmkIpSosx8oGWOtdQmoF','W4PzWPXdW75vcG','Bgf5B3v0sg9YAxPVBNrHBgX5','imksWPJdSmkhW5tcINi','DCoRcSkXW50Zya','W7FcPxS6W48ordddOCkhW4xdUtxcUchcQa','WQTNfCoLg8klW7LNW6u','ywrKu3rHy2S','pZ8/','lCkwWPjEWRNdJCk1hmoQk8kofW','W57dNSokW43cGCkSl8kXWOZdNmohcYldJgW','C2L6zq','57UN57UTkow3SUACIEAiQUwBVIK','WPddRSk/WQxcGmoAWPr5','W7NcIWVdG3hdQq','WPHoW4tcUxPfghZcTG','BwvZC2fNzq','AgvPz2H0','WPRdK8osbmoHcq','y29TCgXLDgu','xmkRAMqfWPhdRmktnb/dJs0','Bg9HzeLTywDL','qbbwBq','ChjLC2vUDeXHCMDL','Dg9W','ywrKvgv4Da','W4bafItcObFcQv/cOI8l','wYTD5OMN6kgm5PU05PAW5Q2L6AQK','AM9PBLbHDgG','uSkS6kYl5Rga5OwO77+K5Ocu55UM6kYC5AA25lI65PsL5OYW5lQq6kcm5Bga6yoI5lMz77+95zUG5QY05lU06zAx5zox5BIp6ycJ6ygD6AkS55U45zot44ksha','W5BdG8om','BMfTzq','DgvTCg9Yyxj5rgLYzwn0B3j5','CmoNaSkN','5lIl6l295PU05PAW5OIq5yQF','W7jDiGpdMmkrW5X5','ndy4mJnXvhbqy0y','mZC5ovrQEuDjwa','WQZcNCoR5P2T5PsK54IS5PYP77+5','xbn4W4FcUWbsW5lcHWm','W6hcNaFdL3ZdS8kYiNuCW4Gh','ywrKqwn0Aw9U','t05flwn1BNrKB3DU','DgL0Bgu','mti5tKPWENrh','5Aw955Qe77Yb5OIr546W5zYO5y675OIQ5zU+','5Qoa5Rwl5yIW5PYj5PAW54Mi5PYS77Yb','s8kSDNG+','CMv0DxjUic8IicSGDgHPCYaRiciV','C2v0v2LKz2v0','B8oHhW','WRdcPwiPW6u','C3rYAw5NAwz5','B8otW4ydW78','WPpcOfy2','D8oPWQNOJBxLJipNIQBMNONKVkNMG5FLPB3OTABVVjdKV5dNLzdNV47LR4pMLjhMJ7m','5lIT6zE0iow3PUI+Uq','mw1UCxfXsq'];const _0x24ef06=_0x3fd0,_0x14021c=_0x4600;(function(_0x370aa6,_0x53e353){const _0x5dbc75=_0x3fd0,_0x195a89=_0x4600;while(!![]){try{const _0x35a134=-parseInt(_0x195a89(0x1f2))+-parseInt(_0x5dbc75(0x22f,'zJW6'))+parseInt(_0x5dbc75(0x231,'fVib'))*-parseInt(_0x195a89(0x206))+-parseInt(_0x195a89(0x214))*-parseInt(_0x195a89(0x249))+parseInt(_0x5dbc75(0x1d6,'J5wg'))+-parseInt(_0x195a89(0x23c))*parseInt(_0x5dbc75(0x1d3,'wjF$'))+parseInt(_0x5dbc75(0x224,'Y6hp'));if(_0x35a134===_0x53e353)break;else _0x370aa6['push'](_0x370aa6['shift']());}catch(_0x485fd1){_0x370aa6['push'](_0x370aa6['shift']());}}}(_0x252a,0x237e8));const filename=Script[_0x14021c(0x1ec)]()+_0x14021c(0x247),files=FileManager['local'](),path=files[_0x14021c(0x1e9)](files[_0x14021c(0x226)](),filename),versionData=await getversion();let needUpdated=await updateCheck(1.3);const logoUrl='',widgetUrl='https://nkupp.com',dummyFont=Font['lightSystemFont'](0xe),padding={'top':0x0,'left':0x0,'bottom':0x0,'right':0x0},widget=await createWidget();function _0x3fd0(_0xd239ab,_0x383f28){_0xd239ab=_0xd239ab-0x1c5;let _0x30eb8d=_0x252a[_0xd239ab];if(_0x3fd0['cZyryQ']===undefined){var _0x117a46=function(_0x4600f1){const _0x413b73='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4a019c='';for(let _0x381d4a=0x0,_0x513d76,_0x4077c5,_0x298f4b=0x0;_0x4077c5=_0x4600f1['charAt'](_0x298f4b++);~_0x4077c5&&(_0x513d76=_0x381d4a%0x4?_0x513d76*0x40+_0x4077c5:_0x4077c5,_0x381d4a++%0x4)?_0x4a019c+=String['fromCharCode'](0xff&_0x513d76>>(-0x2*_0x381d4a&0x6)):0x0){_0x4077c5=_0x413b73['indexOf'](_0x4077c5);}return _0x4a019c;};const _0x3fd03f=function(_0x7019f0,_0x4689b2){let _0x4cd07e=[],_0x3c7b8f=0x0,_0x49cf99,_0x3ee5d5='',_0x596c8b='';_0x7019f0=_0x117a46(_0x7019f0);for(let _0x427df2=0x0,_0x2356bf=_0x7019f0['length'];_0x427df2<_0x2356bf;_0x427df2++){_0x596c8b+='%'+('00'+_0x7019f0['charCodeAt'](_0x427df2)['toString'](0x10))['slice'](-0x2);}_0x7019f0=decodeURIComponent(_0x596c8b);let _0x528bab;for(_0x528bab=0x0;_0x528bab<0x100;_0x528bab++){_0x4cd07e[_0x528bab]=_0x528bab;}for(_0x528bab=0x0;_0x528bab<0x100;_0x528bab++){_0x3c7b8f=(_0x3c7b8f+_0x4cd07e[_0x528bab]+_0x4689b2['charCodeAt'](_0x528bab%_0x4689b2['length']))%0x100,_0x49cf99=_0x4cd07e[_0x528bab],_0x4cd07e[_0x528bab]=_0x4cd07e[_0x3c7b8f],_0x4cd07e[_0x3c7b8f]=_0x49cf99;}_0x528bab=0x0,_0x3c7b8f=0x0;for(let _0x56d4ad=0x0;_0x56d4ad<_0x7019f0['length'];_0x56d4ad++){_0x528bab=(_0x528bab+0x1)%0x100,_0x3c7b8f=(_0x3c7b8f+_0x4cd07e[_0x528bab])%0x100,_0x49cf99=_0x4cd07e[_0x528bab],_0x4cd07e[_0x528bab]=_0x4cd07e[_0x3c7b8f],_0x4cd07e[_0x3c7b8f]=_0x49cf99,_0x3ee5d5+=String['fromCharCode'](_0x7019f0['charCodeAt'](_0x56d4ad)^_0x4cd07e[(_0x4cd07e[_0x528bab]+_0x4cd07e[_0x3c7b8f])%0x100]);}return _0x3ee5d5;};_0x3fd0['CAKhpR']=_0x3fd03f,_0x3fd0['rXPDPj']={},_0x3fd0['cZyryQ']=!![];}const _0x5d05e9=_0x252a[0x0],_0x5d2201=_0xd239ab+_0x5d05e9,_0x252a6f=_0x3fd0['rXPDPj'][_0x5d2201];if(_0x252a6f===undefined){if(_0x3fd0['gPkGuH']===undefined){const _0x1f4432=function(_0x1e1c22){this['dfeGff']=_0x1e1c22,this['YSiSBU']=[0x1,0x0,0x0],this['bTGviH']=function(){return'newState';},this['MQstWN']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['Lvftcl']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1f4432['prototype']['CivhQs']=function(){const _0x285539=new RegExp(this['MQstWN']+this['Lvftcl']),_0x56fd62=_0x285539['test'](this['bTGviH']['toString']())?--this['YSiSBU'][0x1]:--this['YSiSBU'][0x0];return this['mofSSP'](_0x56fd62);},_0x1f4432['prototype']['mofSSP']=function(_0x24654d){if(!Boolean(~_0x24654d))return _0x24654d;return this['eZbKfV'](this['dfeGff']);},_0x1f4432['prototype']['eZbKfV']=function(_0x5fd4de){for(let _0x1f53ab=0x0,_0xd9e661=this['YSiSBU']['length'];_0x1f53ab<_0xd9e661;_0x1f53ab++){this['YSiSBU']['push'](Math['round'](Math['random']())),_0xd9e661=this['YSiSBU']['length'];}return _0x5fd4de(this['YSiSBU'][0x0]);},new _0x1f4432(_0x3fd0)['CivhQs'](),_0x3fd0['gPkGuH']=!![];}_0x30eb8d=_0x3fd0['CAKhpR'](_0x30eb8d,_0x383f28),_0x3fd0['rXPDPj'][_0x5d2201]=_0x30eb8d;}else _0x30eb8d=_0x252a6f;return _0x30eb8d;}if(!colorMode&&!ImageMode&&!config[_0x24ef06(0x1e1,'aX8q')]&&changePicBg){const okTips=_0x14021c(0x212);let message='图片模式支持相册照片&背景透明',options=['图片选择','透明背景','配置文档'],response=await generateAlert(message,options);if(response==0x0){let img=await Photos[_0x24ef06(0x241,'NwpH')]();message=okTips;const resultOptions=['好的'];await generateAlert(message,resultOptions),files[_0x24ef06(0x245,'ZK0Q')](path,img);}response==0x2&&Safari['open'](versionData[_0x24ef06(0x23e,'C4Lk')][_0x14021c(0x227)]);if(response==0x1){message=_0x14021c(0x220);let exitOptions=[_0x14021c(0x1d9),_0x14021c(0x216)],shouldExit=await generateAlert(message,exitOptions);if(shouldExit)return;let img=await Photos['fromLibrary'](),height=img['size'][_0x24ef06(0x1db,'oi#R')],phone=phoneSizes()[height];if(!phone){message=_0x14021c(0x235),await generateAlert(message,[_0x14021c(0x1fa)]);return;}message=_0x14021c(0x24a);let sizes=['小号','中号','大号'],size=await generateAlert(message,sizes),widgetSize=sizes[size];message='您想它在什么位置？',message+=height==0x470?_0x24ef06(0x1ea,'zJW6'):'';let crop={'w':'','h':'','x':'','y':''};if(widgetSize=='小号'){crop['w']=phone['小号'],crop['h']=phone['小号'];let positions=['顶部\x20左边','顶部\x20右边',_0x14021c(0x205),_0x24ef06(0x1c8,'ml@W'),_0x14021c(0x23d),'底部\x20右边'],position=await generateAlert(message,positions),keys=positions[position][_0x24ef06(0x202,'J5wg')]('\x20');crop['y']=phone[keys[0x0]],crop['x']=phone[keys[0x1]];}else{if(widgetSize=='中号'){crop['w']=phone['中号'],crop['h']=phone['小号'],crop['x']=phone['左边'];let positions=['顶部','中间','底部'],position=await generateAlert(message,positions),key=positions[position][_0x24ef06(0x1e7,'uAqJ')]();crop['y']=phone[key];}else{if(widgetSize=='大号'){crop['w']=phone['中号'],crop['h']=phone['大号'],crop['x']=phone['左边'];let positions=['顶部','底部'],position=await generateAlert(message,positions);crop['y']=position?phone['中间']:phone['顶部'];}}}let imgCrop=cropImage(img,new Rect(crop['x'],crop['y'],crop['w'],crop['h']));message='您的小部件背景已准备就绪，退出到桌面预览。';const resultOptions=['好的'];await generateAlert(message,resultOptions),files[_0x24ef06(0x23b,'q2O%')](path,imgCrop);}}if(colorMode)widget[_0x24ef06(0x218,'HEx[')]=bgColor;else{if(ImageMode){const img=await getImageByUrl('https://area.sinaapp.com/bingImg/',_0x24ef06(0x243,'J5wg'),![]);widget['backgroundImage']=await shadowImage(img);}else widget['backgroundImage']=files[_0x14021c(0x21a)](path);}widget['setPadding'](padding[_0x14021c(0x1e5)],padding[_0x24ef06(0x23a,'zJW6')],padding[_0x14021c(0x21e)],padding[_0x14021c(0x22c)]),Script[_0x14021c(0x1fe)](widget),Script[_0x14021c(0x1e0)]();if(previewSize=='large')widget[_0x14021c(0x1e4)]();else previewSize==_0x24ef06(0x1df,'sK!3')?widget[_0x24ef06(0x213,'a*qS')]():widget[_0x14021c(0x246)]();async function createWidget(){const _0x362c80=_0x14021c,_0x39259d=_0x24ef06;let _0x413b73,_0x4a019c,_0x381d4a,_0x513d76;const _0x4077c5=new ListWidget();return _0x4077c5[_0x39259d(0x207,')M2q')]=widgetUrl,_0x4077c5[_0x362c80(0x20f)](0xa),_0x381d4a=_0x4077c5[_0x362c80(0x1d4)](),_0x381d4a[_0x362c80(0x1cf)](),_0x381d4a[_0x362c80(0x208)](),_0x381d4a[_0x39259d(0x24b,'!DJx')]=new Size(0xbe,0x3c),_0x381d4a[_0x39259d(0x234,'zJW6')](),_0x413b73=_0x381d4a[_0x362c80(0x1e6)](calculateDays(endDate)+''),_0x413b73[_0x362c80(0x248)]=fontColor,_0x413b73['font']=new Font(_0x362c80(0x229),0x50),_0x381d4a[_0x39259d(0x233,'ZE$N')](),_0x513d76=_0x4077c5[_0x362c80(0x1d4)](),_0x513d76[_0x362c80(0x1cf)](),_0x513d76[_0x362c80(0x208)](),_0x513d76[_0x362c80(0x1d8)]=new Size(0xbe,0x3a),_0x513d76[_0x39259d(0x1cd,'7wiA')](),_0x4a019c=_0x513d76[_0x362c80(0x1e6)](daysTillText),_0x4a019c[_0x362c80(0x248)]=fontColor,_0x4a019c[_0x362c80(0x1cc)]=dummyFont,_0x513d76[_0x39259d(0x24d,'(UfM')](),_0x4077c5;}function calculateDays(_0x298f4b){const _0x1ffa11=_0x24ef06,_0x3c1180=_0x14021c;let _0x7019f0,_0x4689b2,_0x4cd07e;return _0x298f4b=new Date(_0x298f4b),_0x4689b2=new Date(),_0x4cd07e=parseInt((_0x298f4b[_0x3c1180(0x240)]()-_0x4689b2[_0x1ffa11(0x236,'2rjk')]())/0x3e8),_0x4cd07e>=0x0?(_0x7019f0=parseInt(_0x4cd07e/0x15180),_0x4cd07e=_0x4cd07e%0x15180,parseInt(_0x7019f0,0xa)):_0x3c1180(0x1d5);}function _0x4600(_0xd239ab,_0x383f28){_0xd239ab=_0xd239ab-0x1c5;let _0x30eb8d=_0x252a[_0xd239ab];if(_0x4600['fhFmln']===undefined){var _0x117a46=function(_0x3fd03f){const _0x4600f1='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x413b73='';for(let _0x4a019c=0x0,_0x381d4a,_0x513d76,_0x4077c5=0x0;_0x513d76=_0x3fd03f['charAt'](_0x4077c5++);~_0x513d76&&(_0x381d4a=_0x4a019c%0x4?_0x381d4a*0x40+_0x513d76:_0x513d76,_0x4a019c++%0x4)?_0x413b73+=String['fromCharCode'](0xff&_0x381d4a>>(-0x2*_0x4a019c&0x6)):0x0){_0x513d76=_0x4600f1['indexOf'](_0x513d76);}return _0x413b73;};_0x4600['Cdslzt']=function(_0x298f4b){const _0x7019f0=_0x117a46(_0x298f4b);let _0x4689b2=[];for(let _0x4cd07e=0x0,_0x3c7b8f=_0x7019f0['length'];_0x4cd07e<_0x3c7b8f;_0x4cd07e++){_0x4689b2+='%'+('00'+_0x7019f0['charCodeAt'](_0x4cd07e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4689b2);},_0x4600['QsUqpZ']={},_0x4600['fhFmln']=!![];}const _0x5d05e9=_0x252a[0x0],_0x5d2201=_0xd239ab+_0x5d05e9,_0x252a6f=_0x4600['QsUqpZ'][_0x5d2201];if(_0x252a6f===undefined){const _0x49cf99=function(_0x3ee5d5){this['dTheTl']=_0x3ee5d5,this['VRrElv']=[0x1,0x0,0x0],this['CPdrih']=function(){return'newState';},this['qdMvon']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['mJUXUf']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x49cf99['prototype']['CiVrlV']=function(){const _0x596c8b=new RegExp(this['qdMvon']+this['mJUXUf']),_0x528bab=_0x596c8b['test'](this['CPdrih']['toString']())?--this['VRrElv'][0x1]:--this['VRrElv'][0x0];return this['EGdQzO'](_0x528bab);},_0x49cf99['prototype']['EGdQzO']=function(_0x427df2){if(!Boolean(~_0x427df2))return _0x427df2;return this['xYDPGW'](this['dTheTl']);},_0x49cf99['prototype']['xYDPGW']=function(_0x2356bf){for(let _0x56d4ad=0x0,_0x1f4432=this['VRrElv']['length'];_0x56d4ad<_0x1f4432;_0x56d4ad++){this['VRrElv']['push'](Math['round'](Math['random']())),_0x1f4432=this['VRrElv']['length'];}return _0x2356bf(this['VRrElv'][0x0]);},new _0x49cf99(_0x4600)['CiVrlV'](),_0x30eb8d=_0x4600['Cdslzt'](_0x30eb8d),_0x4600['QsUqpZ'][_0x5d2201]=_0x30eb8d;}else _0x30eb8d=_0x252a6f;return _0x30eb8d;}async function shadowImage(_0x3c7b8f){const _0x372834=_0x14021c,_0x50504a=_0x24ef06;let _0x49cf99=new DrawContext();return _0x49cf99[_0x50504a(0x238,'wjF$')]=_0x3c7b8f[_0x50504a(0x203,'fVib')],_0x49cf99[_0x50504a(0x1d7,'z[V7')](_0x3c7b8f,new Rect(0x0,0x0,_0x3c7b8f[_0x372834(0x1d8)][_0x50504a(0x1cb,'zJW6')],_0x3c7b8f[_0x372834(0x1d8)][_0x372834(0x1de)])),_0x49cf99[_0x50504a(0x21c,'aX8q')](new Color(_0x372834(0x24c),0.5)),_0x49cf99[_0x50504a(0x1da,'C4Lk')](new Rect(0x0,0x0,_0x3c7b8f[_0x50504a(0x1e3,'DSRV')][_0x372834(0x20b)],_0x3c7b8f['size']['height'])),await _0x49cf99['getImage']();}async function generateAlert(_0x3ee5d5,_0x596c8b){const _0x571325=_0x24ef06,_0xc0219d=_0x14021c,_0x528bab=function(){let _0x1f4432=!![];return function(_0x1e1c22,_0x285539){const _0x56fd62=_0x1f4432?function(){const _0x383fae=_0x4600;if(_0x285539){const _0x24654d=_0x285539[_0x383fae(0x215)](_0x1e1c22,arguments);return _0x285539=null,_0x24654d;}}:function(){};return _0x1f4432=![],_0x56fd62;};}(),_0x427df2=_0x528bab(this,function(){const _0x5fd4de=function(){const _0x3e733f=_0x4600,_0x1f53ab=_0x5fd4de['constructor'](_0x3e733f(0x1fd))()[_0x3e733f(0x21b)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x1f53ab[_0x3e733f(0x20e)](_0x427df2);};return _0x5fd4de();});_0x427df2();let _0x2356bf=new Alert();_0x2356bf[_0xc0219d(0x1dd)]=_0x3ee5d5;for(const _0xd9e661 of _0x596c8b){_0x2356bf[_0xc0219d(0x1f6)](_0xd9e661);}let _0x56d4ad=await _0x2356bf[_0x571325(0x1f5,'oi#R')]();return _0x56d4ad;}function cropImage(_0x3f6e56,_0x290b5b){const _0x1ca427=_0x24ef06;let _0x8919c1=new DrawContext();return _0x8919c1[_0x1ca427(0x1ee,'soE^')]=new Size(_0x290b5b['width'],_0x290b5b['height']),_0x8919c1[_0x1ca427(0x1d2,'ZE$N')](_0x3f6e56,new Point(-_0x290b5b['x'],-_0x290b5b['y'])),_0x8919c1[_0x1ca427(0x1d0,'ml@W')]();}async function getImageByUrl(_0x3d61e1,_0x553685,_0x1b90b2=!![]){const _0x1b9010=_0x24ef06,_0x4d057d=_0x14021c,_0x9cdc1b=FileManager['local']()['joinPath'](FileManager['local']()[_0x4d057d(0x1ed)](),_0x553685),_0x211fa6=FileManager[_0x4d057d(0x237)]()['fileExists'](_0x9cdc1b);if(_0x1b90b2&&_0x211fa6)return Image['fromFile'](_0x9cdc1b);try{const _0x26a592=new Request(_0x3d61e1),_0x4e4edb=await _0x26a592[_0x4d057d(0x1e2)]();return FileManager['local']()[_0x4d057d(0x219)](_0x9cdc1b,_0x4e4edb),_0x4e4edb;}catch(_0x1297f8){console[_0x1b9010(0x1fc,'aX8q')](_0x4d057d(0x20d)+_0x1297f8);if(_0x211fa6)return Image[_0x4d057d(0x239)](_0x9cdc1b);let _0x29189c=new DrawContext();return _0x29189c[_0x4d057d(0x1d8)]=new Size(0x64,0x64),_0x29189c[_0x4d057d(0x242)](Color[_0x4d057d(0x209)]()),_0x29189c[_0x4d057d(0x223)](new Rect(0x0,0x0,0x64,0x64)),await _0x29189c[_0x1b9010(0x1f0,'E0XU')]();}}function phoneSizes(){let _0x39a337={'2340':{'小号':0x1b4,'中号':0x3a8,'大号':0x3d4,'左边':0x48,'右边':0x23a,'顶部':0xd4,'中间':0x2f4,'底部':0x514},'2532':{'小号':0x1d8,'中号':0x3f4,'大号':0x422,'左边':0x4e,'右边':0x26a,'顶部':0xe6,'中间':0x332,'底部':0x580},'2778':{'小号':0x206,'中号':0x45a,'大号':0x48a,'左边':0x56,'右边':0x2a6,'顶部':0xfc,'中间':0x382,'底部':0x608},'2688':{'小号':0x1fb,'中号':0x438,'大号':0x471,'左边':0x51,'右边':0x28e,'顶部':0xe4,'中间':0x35a,'底部':0x5d0},'1792':{'小号':0x152,'中号':0x2d0,'大号':0x2f6,'左边':0x36,'右边':0x1b4,'顶部':0xa0,'中间':0x244,'底部':0x3e8},'2436':{'小号':0x1d1,'中号':0x3db,'大号':0x40b,'左边':0x45,'右边':0x24f,'顶部':0xd5,'中间':0x30f,'底部':0x549},'2208':{'小号':0x1d7,'中号':0x414,'大号':0x42f,'左边':0x63,'右边':0x2a0,'顶部':0x72,'中间':0x2b8,'底部':0x4fe},'1334':{'小号':0x128,'中号':0x282,'大号':0x288,'左边':0x36,'右边':0x190,'顶部':0x3c,'中间':0x19c,'底部':0x2fc},'1136':{'小号':0x11a,'中号':0x248,'大号':0x26e,'左边':0x1e,'右边':0x14c,'顶部':0x3b,'中间':0x18f,'底部':0x18f}};return _0x39a337;}async function getversion(){const _0x5eb17c=_0x24ef06,_0x4234af=_0x14021c,_0x8b8f58=files[_0x4234af(0x1e9)](files[_0x4234af(0x226)](),_0x5eb17c(0x230,'a*qS'));var _0x172da2;try{_0x172da2=await new Request('https://cdn.jsdelivr.net/gh/Nicolasking007/CDN@latest/Scriptable/UPDATE.json')[_0x4234af(0x21f)](),files['writeString'](_0x8b8f58,JSON[_0x4234af(0x201)](_0x172da2)),console[_0x5eb17c(0x1eb,'z[V7')]('===>欢迎使用：'+_0x172da2[_0x4234af(0x20c)]+_0x5eb17c(0x1c6,'Q]*e')),console[_0x5eb17c(0x1ff,'soE^')](_0x4234af(0x22a)),log(_0x5eb17c(0x225,'2rjk'));}catch(_0x2438f0){_0x172da2=JSON[_0x5eb17c(0x222,'fVib')](files[_0x5eb17c(0x1f4,'8XZG')](_0x8b8f58)),log(_0x5eb17c(0x204,'ZK0Q'));}return _0x172da2;}async function updateCheck(_0x4f3097){const _0x26fc98=_0x14021c,_0x430050=_0x24ef06,_0x276ec9=versionData;log(_0x430050(0x1f3,'sK!3')+_0x276ec9[_0x26fc98(0x1f7)][_0x26fc98(0x20a)]);let _0x7e66ef=![];if(_0x276ec9['ONE-cuntdown'][_0x430050(0x1d1,'soE^')]!=_0x4f3097){_0x7e66ef=!![],log(_0x26fc98(0x1ca));if(!config['runsInWidget']){log(_0x26fc98(0x1e8));let _0x346217=new Alert();_0x346217[_0x430050(0x200,'0$0N')]=_0x26fc98(0x1fb),_0x346217[_0x26fc98(0x23f)](_0x430050(0x244,'!DJx')),_0x346217[_0x430050(0x1dc,'HEx[')]('立即更新'),_0x346217[_0x26fc98(0x1c9)],_0x346217[_0x430050(0x1ce,'Q]*e')]=_0x276ec9[_0x26fc98(0x1f7)][_0x430050(0x1c7,'Y!hH')];if(await _0x346217[_0x430050(0x22d,'Y!hH')]()==0x1){const _0x36c30b=new Request(_0x276ec9[_0x26fc98(0x1f7)][_0x430050(0x228,'n^&r')]),_0x16aa25=await _0x36c30b[_0x26fc98(0x232)]();files[_0x26fc98(0x210)](module[_0x26fc98(0x21d)],_0x16aa25);const _0x3badda=new Notification();_0x3badda[_0x26fc98(0x1f8)]=_0x26fc98(0x1ef),_0x3badda[_0x430050(0x22b,'Y8Y)')]=_0x26fc98(0x22e),_0x3badda[_0x430050(0x211,'^0C4')]();}Script[_0x26fc98(0x1e0)]();}}else log(_0x430050(0x217,'5bb!'));return _0x7e66ef;};